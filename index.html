
<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <link href="https://driverating.ru/vk/2048/style/main.css" rel="stylesheet" type="text/css">
  <script src="//vk.com/js/api/xd_connection.js?2"  type="text/javascript"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>

  <script src="https://ad.mail.ru/static/vkadman.min.js"></script>
  <script src="https://js.appscentrum.com/scr/preroll.js"></script>

  <script>
  
	$(document).ready(function(){
	    window.focus();
	});
	
  	var user_highscore = ;
  	var highscores = {};
    var viewer_id = 0;
    var auth_key = "";
  	var app_friends=null;
  	var app_friends_str="";
  	var app_friends_data=[];
  VK.init(function() { 

	var user_id = 0;
	var app_id = 8129185;

VK.api('users.get',{user_ids:app_friends_str, fields:'photo_50'},function(data){fR(data.response); rS();});
  }, function() { 
  //api failed
  alert('Произошла ошибка. Свяжитесь, пожалуйста, с разработчиком!');
}, '5.21'); 

function iF() {
	VK.callMethod("showInviteBox", 256);
}

function fR(data) {
$(data).each(function(index){
	app_friends_data[this.id]= {'photo': this.photo_50, 'name' : this.first_name};
});
app_friends_data[viewer_id].name='Ты';
}

function rS() {
$('.friend table').hide();

$.getJSON('api.php?a=gS',{ids:app_friends_str,viewer_id:viewer_id,auth_key:auth_key}, function(data) {
highscores = data;
$(highscores).each(function(index){
	i = highscores[index].vkid;
	s = highscores[index].highscore;
	$('#ftop'+index).html('<table class="hero"><tr><td width="50px"><div class="top_av"><img src="'+
	app_friends_data[i].photo+'" /></div></td><td align="center">'+app_friends_data[i].name+'<br/><span id="score_'+i+'">'+
	s+'</span></td></tr></table>');

	$('#ftop'+index+' table').show(1000);
});
});
}

  </script>
  <style>

  .top_av {
    padding: 0;
     -webkit-border-radius: 8px;
    -moz-border-radius: 8px;
    -khtml-border-radius: 8px;  
    border-radius: 8px;
    width: 50px;
    height: 50px;
    overflow: hidden;
}

.hero {
width:100%;
}

  .friend {
  height:55px;
  width:160px;
  position: relative;
display: inline-block;
background: #bbada0;

padding: 5px 5px;
margin-top: 8px;

font-size: 15px;
//line-height: 40px;
font-weight: bold;
border-radius: 3px;
color: white;
text-align: center;
  }

  .friend a {
  	color:white;
  }
  </style>
</head>
<body>
<div style="width:180px; float:right; text-align:center;">
<h2>Друзья</h3>
<div id="ftop0" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop1" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop2" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop3" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop4" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop5" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop6" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div><div id="ftop7" class="friend"><a href="#" style="margin-top:20px;" onclick="iF();">Нажми, чтобы<br/>пригласить друга</a>
</div>
</div>
  <div class="container">
<!--    <div class="heading">
      <h1 class="title">2048</h1>
    </div>-->

       
    <div class="above-game">
		<!-- <p class="game-intro">Собери <strong>2048!</strong></p>-->
      <div class="new-game" style="float:left; margin-top:17px">
      <a class="restart-button">Новая игра</a>
      </div>


	 <div class="scores-container">
        <div class="score-container">0</div>
        <div class="best-container">0</div>
      </div>
      
    </div>

    <div class="game-container">
      <div class="game-message">
        <p></p>
        <div class="lower">
	        <a class="keep-playing-button">Продолжить</a>
          <a class="retry-button">Играть снова!</a>
        </div>
      </div>

      <div class="grid-container">
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
        <div class="grid-row">
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
          <div class="grid-cell"></div>
        </div>
      </div>

      <div class="tile-container">

      </div>
    </div>

    <p class="game-explanation">
      <strong class="important">Правила игры:</strong> Используй <strong>клавиши со стрелками</strong> на клавиатуре для перемещения плиток. Когда ты столкнёшь две плитки с одинаковым числом, <strong>они объединятся!</strong><br/>Если игра не реагирует на нажатие клавиш, щелкни левой кнопкой мыши по игровому полю.    </p>
  </div>
<a href="//vk.com/yes2048" target="_blank"><img src="group2048.png" /></a>
<script src="js/script.php?v=2&l=bind_polyfill.js,classlist_polyfill.js,animframe_polyfill.js,keyboard_input_manager.js,html_actuator.js,grid.js,tile.js,local_storage_manager.js,game_manager.js,application.js"></script>
</body>
</html>
